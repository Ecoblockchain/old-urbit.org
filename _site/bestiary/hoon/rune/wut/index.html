<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      wut &middot; Urbit
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/hyde.css">

  <!-- Icons -->

   <link rel="shortcut icon" href="/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body>

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <img src="/public/urbit_logo_ur.svg">
      <br>
      <h1>Urbit</h1>
      <p class="lead">a personal cloud computer</p>
    </div>

    <ul class="sidebar-nav">
      <li class="sidebar-nav-item">
        <a href="/">What is Urbit?</a>
      </li>

      

      
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/about/">About</a>
            </li>
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/blog/">Blog</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/dev/">Developer</a>
            </li>
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/doc/">Documentation</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
            <li class="sidebar-nav-item">
              <a href="/setup/">Setup</a>
            </li>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <li class="sidebar-nav-item"><a href="https://github.com/urbit/urbit">GitHub</a></li>
      <li class="sidebar-nav-item"><a href="https://groups.google.com/forum/#!forum/urbit-dev">Mailing List</a></li>
      <li class="sidebar-nav-item">Cooling at 544 Kelvin</li>
      <li>Last Continuity Breach: <a href="/blog/2014/01/06/continuity/">~2014.1.6</a></li>
    </ul>
    <p>urbit@urbit.org</p>
  </div>
</div>


    <div class="content container">
      <div class="subpage">
  <h1 class="subpage-title">wut</h1>
  <hr>

<h1>tests: wut, <code>?</code></h1>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtbr/">wutbar</a></h2>

<p><code>?|</code>, <code>wutbar</code>, <code>[%wtbr p=tusk]</code> is a synthetic hoon that
computes the &quot;or&quot; of the loobeans in <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtbr p=tusk]
  ==
++  tusk  (list twig)
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?|  i.p
    i.t.p
    i.t.t.p
==
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?|(i.p i.t.p i.t.t.p)
</code></pre></div>
<h3>Irregular form</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">|(i.p i.t.p i.t.t.p)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wtbr *]
    |-
    ?~(p.gen [%dtzz %f 1] [%wtcl i.p.gen [%dtzz %f 0] $(p.gen t.p.gen)])
  ==
</code></pre></div>
<h3>Notes</h3>

<p>Short-circuiting and type inference work as expected in <code>?|</code>.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtcl/">wutcol</a></h2>

<p><code>?:</code>, <code>wutcol</code>, <code>[%wtcl p=twig q=twig r=twig]</code> is a natural hoon
that produces <code>q</code> if <code>p</code> is yes (<code>&amp;</code>, <code>0</code>), or <code>r</code> if <code>p</code> is no
(<code>|</code>, 1).</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtcl p=twig q=twig r=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?:  p
  q
r
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?:(p q r)
</code></pre></div>
<h3>Compilation</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wtcl *]
    =+  nor=$(gen p.gen, gol bean)
    =+  fex=(gain p.gen)
    =+  wux=(lose p.gen)
    =+  ^=  duy
        ?:  =(%void fex)
          ?:(=(%void wux) [%0 0] [%1 1])
        ?:(=(%void wux) [%1 0] q.nor)
    =+  hiq=$(sut fex, gen q.gen)
    =+  ran=$(sut wux, gen r.gen)
    [(fork p.hiq p.ran) (cond duy q.hiq q.ran)]
  ==
::
++  gain
  |=  gen=twig  ^-  type
  (chip &amp; gen)
::
++  lose
  |=  gen=twig  ^-  type
  (chip | gen)
::
++  chip
  ~/  %chip
  |=  [way=? gen=twig]  ^-  type
  ?:  ?=([%wtts *] gen)
    (cool way q.gen (play ~(bunt al p.gen)))
  ?:  ?&amp;(way ?=([%wtpm *] gen))
    |-(?~(p.gen sut $(p.gen t.p.gen, sut ^$(gen i.p.gen))))
  ?:  ?&amp;(!way ?=([%wtbr *] gen))
    |-(?~(p.gen sut $(p.gen t.p.gen, sut ^$(gen i.p.gen))))
  =+  neg=~(open ap gen)
  ?:(=(neg gen) sut $(gen neg))
::
++  cool
  |=  [pol=? hyp=wing ref=type]
  ^-  type
  =+  peh=`wing`(flop hyp)
  |-  ^-  type
  ?~  peh
    ?:(pol (fuse ref) (crop ref))
  =&gt;  .(i.peh ?^(i.peh i.peh [%| p=0 q=i.peh]))
  =+  ^=  poz  ^-  post
      ?-  -.i.peh
        &amp;  [p.i.peh %&amp; (peek %both p.i.peh)]
        |  (finq p.i.peh %both q.i.peh)
      ==
  |-  ^-  type
  ?:  =(1 p.poz)
    ?-  -.q.poz
      0  ?-  -.i.peh
            &amp;  ^$(peh t.peh)
            |  (face q.i.peh ^$(peh t.peh, sut p.q.poz))
         ==
      1  ^$(peh t.peh)
      2  %+  bull 
           [p.p.q.poz q.p.q.poz r.p.q.poz ^$(peh t.peh, sut s.p.q.poz)] 
         q.q.poz
    ==
  =+  [now=(cap p.poz) lat=(mas p.poz)]
  =+  vil=*(set type)
  |-  ^-  type
  ?-    sut
      [%atom *]   %void
      [%bull *]   (reco |=(p=type (bull p.sut ^$(sut p))))
      [%cell *]
    ?:  =(2 now)
      (cell ^$(p.poz lat, sut p.sut) q.sut)
    (cell p.sut ^$(p.poz lat, sut q.sut))
  ::
      [%core *]   ?.(=(3 now) sut (core ^$(p.poz lat, sut p.sut) q.sut))
      [%cube *]   (reco |=(p=type ^$(sut p)))
      [%face *]   (reco |=(p=type (face p.sut ^$(sut p))))
      [%fork *]
    ?:  (~(has in vil) sut)
      %void
    =&gt;  .(vil (~(put in vil) sut))
    (fork $(sut p.sut) $(sut q.sut))
  ::
      [%hold *]   (reco |=(p=type ^$(sut p)))
      %noun       (reco |=(p=type ^$(sut p)))
      %void       %void
  ==
::
++  cond
  ~/  %cond
  |=  [pex=nock yom=nock woq=nock]
  ^-  nock
  ?-  pex
    [1 0]  yom
    [1 1]  woq
    *      [%6 pex yom woq]
  ==
</code></pre></div>
<h3>Notes</h3>

<p>It&#39;s not unheard of to say <code>?:</code> as &quot;if.&quot;</p>

<p>See chapter 10 for a discussion of type inference through <code>?:</code>.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtdt/">wutdot</a></h2>

<p><code>?.</code>, <code>wutdot</code>, <code>[%wtdt p=twig q=twig r=twig]</code> is a synthetic hoon
that produces <code>r</code> if <code>p</code> is yes (<code>&amp;</code>, <code>0</code>), or <code>q</code> if <code>p</code> is no
(<code>|</code>, 1).</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtdt p=twig q=twig r=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?.  p
  q
r
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?:(p q r)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-  gen
    [%wtdt *]   [%wtcl p.gen r.gen q.gen]
  ==
</code></pre></div>
<h3>Notes</h3>

<p>It&#39;s not unheard of to say <code>?.</code> as &quot;unless.&quot;</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtgl/">wutgal</a></h2>

<p><code>?&lt;</code>, <code>wutgal</code>, <code>[%wtgl p=twig q=twig]</code> is a synthetic hoon that
produces <code>q</code>, asserting that <code>p</code> is no (<code>|</code>, 1).</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtgl p=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&lt;  p
q
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&lt;(p q)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-  gen
    [%wtgl *]   [%wtcl p.gen [%zpzp ~] q.gen]
  ==
</code></pre></div>
<h3>Notes</h3>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtgr/">wutgar</a></h2>

<p><code>?&gt;</code>, <code>wutgar</code>, <code>[%wtgr p=twig q=twig]</code> is a synthetic hoon that
produces <code>q</code>, asserting that <code>p</code> is no (<code>|</code>, 1).</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtgr p=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&gt;  p
q
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&gt;(p q)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-  gen
    [%wtgr *]   [%wtcl p.gen q.gen [%zpzp ~]]
  ==
</code></pre></div>
<hr>

<h2><a href="/bestiary/hoon/rune/wut/wthp/">wuthep</a></h2>

<p><code>?-</code>, <code>wuthep</code>, <code>[%wthp p=wing q=tine]</code> is a synthetic hoon that
selects a case in <code>q</code> for the actual type of <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wthp p=wing q=tine]
  ==
++  tine  (list ,[p=tile q=twig])
</code></pre></div>
<h3>Regular form (tall)</h3>

<p>Kingside:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?-  p
  p.i.q      q.i.q
  p.i.t.q    q.i.t.q
  p.i.t.t.q  q.i.t.t.q
==
</code></pre></div>
<p>Queenside:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?-    p
    p.i.q      
  q.i.q
    p.i.t.q    
  q.i.t.q
    p.i.t.t.q  
  q.i.t.t.q
==
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?-(p p.i.q q.i.q, p.i.t.q q.i.t.q, p.i.t.t.q q.i.t.t.q)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wthp *]
    |-
    ?@  q.gen
      [%zpfs [%cnzz p.gen]]
    :^    %wtcl
        [%wtts p.i.q.gen p.gen]
      q.i.q.gen
    $(q.gen t.q.gen)
  ==
</code></pre></div>
<h3>Notes</h3>

<p><code>%wthp</code> is best understood by its expansion, which is a simple
use of <code>%wtts</code>.  Note that because <code>%wtts</code> does proper inference,
a spurious, duplicate or missing case will be detected.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtkt/">wutket</a></h2>

<p><code>?^</code>, <code>wutket</code>, <code>[%wtkt p=wing q=twig r=twig]</code> is a synthetic hoon
that evaluates <code>r</code> if <code>p</code> is equal to the bunt for its tile, otherwise
<code>q</code> is evaluated.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtkt p=wing q=twig r=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>

<h3>Regular form (wide)</h3>

<h3>Irregular form</h3>

<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wtkt *]
  ==
</code></pre></div>
<h3>Notes</h3>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtls/">wutlus</a></h2>

<p><code>?+</code>, <code>wutlus</code>, <code>[%wtls p=wing q=twig r=tine]</code> is a synthetic
hoon that selects a case in <code>q</code> for the actual type of <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtls p=wing q=twig r=tine]
  ==
++  tine  (list ,[p=tile q=twig])
</code></pre></div>
<h3>Regular form (tall)</h3>

<p>Kingside:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?+  p
  q
  p.i.r      q.i.r
  p.i.t.r    q.i.t.r
  p.i.t.t.r  q.i.t.t.r
==
</code></pre></div>
<p>Queenside:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?+    p
  q
    p.i.r      
  q.i.r
    p.i.t.r    
  q.i.t.r
    p.i.t.t.r  
  q.i.t.t.r
==
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?+(p p.i.r q.i.r, p.i.t.r q.i.t.r, p.i.t.t.r q.i.t.t.r)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?+    gen
      [%wtls *]
    [%wthp p.gen (weld r.gen `_r.gen`[[[%axil %noun] q.gen] ~])]
  ==
</code></pre></div>
<h3>Notes</h3>

<p><code>%wtls</code> is best understood by its expansion, which is a simple
use of <code>%wtts</code>.  Note that because <code>%wtts</code> does proper inference,
a spurious, duplicate or missing case will be detected.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtpm/">wutpam</a></h2>

<p><code>?&amp;</code>, <code>wutpam</code>, <code>[%wtpm p=tusk]</code> is a synthetic hoon that
computes the &quot;and&quot; of the loobeans in <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtpm p=tusk]
  ==
++  tusk  (list twig)
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&amp;  i.p
    i.t.p
    i.t.t.p
==
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?&amp;(i.p i.t.p i.t.t.p)
</code></pre></div>
<h3>Irregular form</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">&amp;(i.p i.t.p i.t.t.p)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wtpm *]
    |-
    ?~(p.gen [%dtzz %f 0] [%wtcl i.p.gen $(p.gen t.p.gen) [%dtzz %f 1]])
  ==
</code></pre></div>
<h3>Notes</h3>

<p>Short-circuiting and type inference work as expected in <code>?&amp;</code>.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtpt/">wutpat</a></h2>

<p><code>?@</code>, <code>wutpat</code>, <code>[%wtpt p=wing q=twig r=twig]</code> is a synthetic hoon 
that produces <code>q</code> if <code>p</code> is an atom, <code>r</code> otherwise.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtpt p=wing q=twig r=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?@  p
  q
r
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?@(p q r)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-  gen
    [%wtpt *]  [%wtcl [%wtts [%axil %atom %$] p.gen] q.gen r.gen]
  ==
</code></pre></div>
<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtsg/">wutsig</a></h2>

<p><code>?~</code>, <code>wutsig</code>, <code>[%wtsg p=wing q=twig r=twig]</code> is a synthetic hoon 
that produces <code>q</code> if <code>p</code> is <code>~</code>, <code>r</code> otherwise.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtsg p=wing q=twig r=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?~  p
  q
r
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?~(p q r)
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-    gen
      [%wtsg *]
    [%wtcl [%wtts [%axil %null] p.gen] q.gen r.gen]
  ==
</code></pre></div>
<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtts/">wuttis</a></h2>

<p><code>?=</code>, <code>wuttis</code>, <code>[%wtts p=tile q=wing]</code> is a natural hoon that
produces true if the leg at wing <code>q</code> is in tile <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtts p=tile q=wing]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?=  p
q
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?=(p q)
</code></pre></div>
<h3>Compilation</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  mint
  ?-    gen
      [%wtts *]  
    :-  (nice bean)
    %-  fish(sut (play ~(bunt al p.gen))) 
    (cove q:$(gen [%cnzz q.gen], gol %noun))
  ==
::
++  cove
  |=  nug=nock
  ?-    nug
      [0 *]   p.nug
      [10 *]  $(nug q.nug)
      *       ~|([%cove nug] !!)
  ==
::
++  fish
  ~/  %fish
  |=  axe=axis
  =+  vot=*(set type)
  |-  ^-  nock
  ?-  sut
      %void       [%1 1]
      %noun       [%1 0]
      [%atom *]   (flip [%3 %0 axe])
      [%bull *]   ~|(%bull-fish !!)
      [%cell *]
    %+  flan
      [%3 %0 axe]
    (flan $(sut p.sut, axe (peg axe 2)) $(sut q.sut, axe (peg axe 3)))
  ::
      [%core *]   [%0 0]
      [%cube *]   [%5 [%1 p.sut] [%0 axe]]
      [%face *]   $(sut q.sut)
      [%fork *]   (flor $(sut p.sut) $(sut q.sut))
      [%hold *]
    ?:  (~(has in vot) sut)
      [%0 0]
    =&gt;  %=(. vot (~(put in vot) sut))
    $(sut repo)
  ==
::
++  flor
  ~/  %flor
  |=  [bos=nock nif=nock]
  ^-  nock
  ?-  bos
      [1 1]   nif
      [1 0]   bos
      *
    ?-  nif
        [1 1]   bos
        [1 0]   nif
        *       [%6 bos [%1 0] nif]
    ==
  ==
::
++  flan
  ~/  %flan
  |=  [bos=nock nif=nock]
  ^-  nock
  ?-    bos
      [1 1]   bos
      [1 0]   nif
      *
    ?-    nif
        [1 1]   nif
        [1 0]   bos
        *       [%6 bos nif [%1 1]]
    ==
  ==
</code></pre></div>
<h3>Notes</h3>

<p>Note that as presently implemented this is a type operation, not
a tile operation; we just bunt tile <code>p</code> and produce a formula
that detects that the leg at <code>q</code> matches its type.  Future
versions may generate directly from the tile.</p>

<hr>

<h2><a href="/bestiary/hoon/rune/wut/wtzp/">wutzap</a></h2>

<p><code>?!</code>, <code>wutzap</code>, <code>[%wtzp p=twig]</code> is a synthetic hoon that
produces the logical &quot;not&quot; of <code>p</code>.</p>

<h3>Definition</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  twig  
  $%  [%wtzp p=twig]
  ==
</code></pre></div>
<h3>Regular form (tall)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?!  p
</code></pre></div>
<h3>Regular form (wide)</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">?!(p)
</code></pre></div>
<h3>Irregular form</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">!p
</code></pre></div>
<h3>Expansion</h3>
<div class="highlight"><pre><code class="text language-text" data-lang="text">++  open
  ^-  twig
  ?-  gen
    [%wtzp *]  [%wtcl p.gen [%dtzz %f 1] [%dtzz %f 0]]
  ==
</code></pre></div>
<hr>

</div>

    </div>

  </body>
</html>
